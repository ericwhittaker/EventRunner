<div class="menu-container">
  <div class="menu-left">
    <button class="hamburger-btn">â˜°</button>
    <span class="logo">EventRunner</span>
    <div class="menu-items">
      <div class="menu-item" [class.active]="isActive('dashboard')" (click)="navigateTo('dashboard')">Events Dash</div>
      <div class="menu-item" [class.active]="isActive('build-log')" (click)="navigateTo('build-log')">Build Tasks</div>
      <div class="menu-item" [class.active]="isActive('trips')" (click)="navigateTo('trips')">Trips</div>
      <div class="menu-item" [class.active]="isActive('trips')" (click)="navigateTo('trips')">Vehicles</div>
      <div class="menu-item" [class.active]="isActive('venues')" (click)="navigateTo('venues')">Venues</div>
      <div class="menu-item" [class.active]="isActive('contacts')" (click)="navigateTo('contacts')">Contacts</div>
      <div class="menu-item" [class.active]="isActive('admin')" (click)="navigateTo('admin')">Admin</div>
    </div>
  </div>
  <div class="menu-right">
    <span class="version-info">v{{ version }}</span>
    
    <!-- User Info Section -->
    @if (convexAuthService.isAuthenticated()) {
      <div class="user-info">
        <span class="user-greeting">Hello, {{ convexAuthService.user()?.email || 'User' }}</span>
        <button class="logout-btn" (click)="logout()">Logout</button>
      </div>
    }
    
    <input class="search-input" type="text" placeholder="Search Events" />
  </div>
</div>

<!-- Dynamic sub menu section -->
<div class="header-submenu-container">
  @if (currentSection() === 'dashboard') {
    <div class="subnav-left">
      <action-buttons></action-buttons>
    </div>
    <div class="subnav-center">
      <div class="nav-item active">Current</div>
      <div class="nav-item">Live</div>
      <div class="nav-item">NoGo</div>
      <div class="nav-item">All</div>
      <div class="nav-item">Last 14 Days</div>
      <div class="nav-item">10 Days Out</div>
      <div class="nav-item">Installs</div>
    </div>
    <div class="subnav-right">
      <div class="user-tasks-section">
        <span class="user-tasks">Eric's Tasks</span>
      </div>
      <div class="task-buttons">
        <button class="task-btn new">
          <span class="btn-label">New</span>
          <span class="btn-counter">0</span>
        </button>
        <button class="task-btn asap">
          <span class="btn-label">ASAP</span>
          <span class="btn-counter">0</span>
        </button>
        <button class="task-btn wait">
          <span class="btn-label">Wait</span>
          <span class="btn-counter">1</span>
        </button>
      </div>
    </div>
  }
  @if (currentSection() === 'event') {
    <button class="btn btn-secondary back-to-dashboard-btn" (click)="navigateTo('dashboard')">
      <i class="fas fa-arrow-left"></i>
      <span>Back to Dashboard</span>
    </button>
    <div class="header-submenu-center">
      <button class="header-submenu-btn active">
        <i class="fa fa-forward"></i> Advance
      </button>
      <button class="header-submenu-btn">
        <i class="fa fa-info-circle"></i> Additional Info
      </button>
      <button class="header-submenu-btn">
        <i class="fa fa-list-check"></i> To Do
      </button>
      <button class="header-submenu-btn">
        <i class="fa fa-hammer"></i> Build Tasks
      </button>
      <button class="header-submenu-btn">
        <i class="fa fa-bolt"></i> ELS
      </button>
      <button class="header-submenu-btn">
        <i class="fa fa-file-invoice-dollar"></i> Invoice
      </button>
      <button class="header-submenu-btn">
        <i class="fa fa-calendar-check"></i> Post Show
      </button>
    </div>
  }
  @if (currentSection() === 'build') {
    <button class="header-submenu-btn active">In Progress</button>
    <button class="header-submenu-btn">Completed</button>
    <button class="header-submenu-btn">Scheduled</button>
    <button class="header-submenu-btn">Archived</button>
  }
  @if (currentSection() === 'trips') {
    <button class="header-submenu-btn active">Active Trips</button>
    <button class="header-submenu-btn">Completed</button>
    <button class="header-submenu-btn">Add Trip</button>
    <button class="header-submenu-btn">Add Vehicle</button>
  }
  @if (currentSection() === 'vehicles') {
    <button class="header-submenu-btn active">All Vehicles</button>
    <button class="header-submenu-btn">Add Vehicle</button>
    <button class="header-submenu-btn">In Service</button>
    <button class="header-submenu-btn">Maintenance</button>
  }
  @if (currentSection() === 'venues') {
    <button class="header-submenu-btn active">All Venues</button>
    <button class="header-submenu-btn">Add Venue</button>
    <button class="header-submenu-btn">Import</button>
    <button class="header-submenu-btn">Search</button>
  }
  @if (currentSection() === 'contacts') {
    <button class="header-submenu-btn active">All Contacts</button>
    <button class="header-submenu-btn">Add Contact</button>
    <button class="header-submenu-btn">Import</button>
    <button class="header-submenu-btn">Clients</button>
    <button class="header-submenu-btn">Vendors</button>
    <button class="header-submenu-btn">Recently Added</button>
    <button class="header-submenu-btn">Search</button>
  }
  @if (currentSection() === 'admin') {
    <button class="header-submenu-btn" 
            [class.active]="router.url === '/admin' || router.url === '/admin/dashboard'"
            (click)="navigateTo('admin/dashboard')">Dashboard</button>
    <button class="header-submenu-btn"
            [class.active]="router.url === '/admin/users'"
            (click)="navigateTo('admin/users')">Users</button>
    <button class="header-submenu-btn"
            [class.active]="router.url === '/admin/settings'"
            (click)="navigateTo('admin/settings')">System Settings</button>
    <button class="header-submenu-btn">Backup</button>
    <button class="header-submenu-btn">System Health</button>
    <button class="header-submenu-btn">Logs</button>
    <button class="header-submenu-btn">Database</button>
  }
</div>
